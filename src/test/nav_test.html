<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>nav_test</title>
    <link rel="stylesheet" href="http://localhost/yemublog/src/css/mainstyle.css">
    <script src="../..//vue.js"></script>
    <script src="component.js"></script>
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <style>
        .post_headline {
            font-weight: bolder;
            font-size: 200%;
        }

        .post_main_text {
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            margin-right: 30%;
        }

        .post_main_text p {
            word-wrap: break-word;
        }
    </style>
</head>

<body>
    <div class='header'>
        <div class='header_nav' id="header_nav">
            <yemu-header-nav-item v-for="(item, index) in nav_list" :key="item.id" v-bind:nav_item="item"></yemu-header-nav-item>
        </div>
    </div>
    <script>
        Vue.component('yemu-header-nav-item', {
            props: ['nav_item'],
            template: '<div class=header_nav_item><a href="#">{{ nav_item.item }}</a></div>',
        })
        var head = new Vue({
            el: '#header_nav',
            data() {
                return {
                    nav_list: []
                }
            },
            methods: {
                add_item: function (head) {
                    console.log(this.nav_list.length);
                    this.nav_list.push({
                        id: this.nav_list.length,
                        item: head
                    })
                }
            },
        })
    </script>
    <footer>
        hhh
    </footer>
    <script>
            $(document).ready(function () {
                            $.ajax({
                                url: "nav_test.php",
                                type: "get",
                                dataType: "json",
                                success: function (data) {
                                    console.log(data);
                                    // alert(data[0].nav_item);
                                    for (var i in data){
                                        head.add_item(data[i].nav_item);
                                    }
                                    // var str=JSON.stringify(data);
                                    // alert(str);//转成字符串
                                },
                                error: function (XMLHttpRequest, textStatus, errorThrown) {
                                    alert(XMLHttpRequest.status+XMLHttpRequest.readyState+textStatus);
                                },
                            });
                    });
        </script>
        <button id="btn1">发送一个 HTTP GET 请求并获取返回结果</button>
        <button id="btn2">发送一个post请求并返回结果</button>
</body>

</html>